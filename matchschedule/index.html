<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://rebornian48.github.io/assets/img/logo.png" />
    <title>FIFA 2022 World Cup Match Schedule</title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-9 col-sm-1">
                <img src="../assets/2022_FIFA_World_Cup.svg" alt="Logo FIFA World Cup 2022" width="100px">
            </div>
            <div class="col">
                <h2>FIFA 2022 World Cup Match Schedule</h2>
                <h6>Data Reference : https://worldcupjson.net/</h6>
                <h6>Flag Reference : https://countryflagsapi.com/</h6>
                <h6>Website designed by Rebornian48</h6>
                <h6>&nbsp;</h6>
            </div>
        </div>
        <a class="btn btn-primary" href="../" role="button">Home</a>
        <a class="btn btn-primary" href="../matchresult/" role="button">Match Results</a>
        <a class="btn btn-primary" href="../groups" role="button">Group Standings</a>
        <div>&nbsp;</div>
        <div id="compmatch" class="row row-cols-1 row-cols-md-4 g-4"></div>
    </div>
    <script>
        fetch('https://worldcupjson.net/matches')
            .then(function (response) {
                if(response.ok) {
                    return response.json();
                }
                else {
                    throw new Error("Jaringan Internet Sedang Bermasalah");
                }
            })
            .then(function (data) {
                appendData(data);
            })
            .catch(function (err) {
                console.log('error: ' + err);
            });
        function appendData(data) {
            data = data.filter(function(data){
                return (data.status!=='completed');
            });
            var mainContainer = document.getElementById("compmatch");
            for (var i = 0; i < data.length; i++) {
                var div = document.createElement("tr");
                var d = new Date(data[i].datetime);
                var monthArray = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
                var dateFormatted =  d.getDate() + ' ' + monthArray[d.getMonth()] + ' ' + d.getFullYear();
                if(d.getHours()<10){
                    var h = "0" + d.getHours()
                }
                else{
                    h = d.getHours()
                }
                if(d.getMinutes()<10){
                    var m = "0" + d.getMinutes()
                }
                else{
                    m = d.getMinutes()
                }
                var timeFormatted = h + ':' + m;
                div.innerHTML = '<div class="col"><div class="card text-center"><div class="card-header">' + dateFormatted + ' ' + timeFormatted + ' WIB<br />Stadium : ' + data[i].venue + ', ' + data[i].location + ' </div><div class="card-body">' + '<img border="1px" src="https://countryflagsapi.com/svg/' + data[i].home_team.name + '" alt="' + data[i].home_team.name + '" width=48 /><br />' + data[i].home_team.name + '<h6>vs</h6>' + '<img border="1px" src="https://countryflagsapi.com/svg/' + data[i].away_team.name + '" alt="' + data[i].away_team.name + '" width=48 /><br />' + data[i].away_team.name + '   </div><div><a class="btn btn-primary" href="https://youtu.be/dQw4w9WgXcQ?t=85" role="button">BID</a></div><div>&nbsp;</div></div><div>&nbsp;</div></div>';
                mainContainer.appendChild(div);
            }
        }
    </script>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</body>
</html>